<!doctype html><html lang=zh-cmn-hans-cn dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>ã€Šå¼€å±€ä¸€ä¸ªäºŒè¿›åˆ¶ï¼Œä»é›¶å¼€å§‹çš„ LoongArch æŒ‡ä»¤é›†æ¨å¯¼ã€‹â€”â€”ç¬¬ä¸‰å› é˜…è¯»æ–‡æœ¬ | write(2)</title><meta name=keywords content><meta name=description content="æœ¬ LoongArch æŒ‡ä»¤é›†ç ”ç©¶å·¥ä½œåœ¨ç™¾åº¦è´´å§é¾™èŠ¯å§åŒæ­¥è¿è½½ã€‚ æœ¬ç ”ç©¶ä¸­æ¶‰åŠçš„é€†å‘å·¥ç¨‹ä»…å‡ºäºå­¦ä¹ ã€ç ”ç©¶ç›®çš„ã€‚æœ¬ç ”ç©¶å·¥ä½œæœªå¾—åˆ°ä»»ä½•é¾™èŠ¯ã€éº’éºŸç­‰è½¯ç¡¬ä»¶å‚å•†çš„ä»»ä½•å½¢å¼"><meta name=author content="WÃNG &#34;xen0n&#34; XuÄ›ruÃ¬"><link rel=canonical href=https://blog.xen0n.name/posts/old/reversing-loongarch/part-3/><link crossorigin=anonymous href=/assets/css/stylesheet.min.c88963fe2d79462000fd0fb1b3737783c32855d340583e4523343f8735c787f0.css integrity="sha256-yIlj/i15RiAA/Q+xs3N3g8MoVdNAWD5FIzQ/hzXHh/A=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.min.b95bacdc39e37a332a9f883b1e78be4abc1fdca2bc1f2641f55e3cd3dabd4d61.js integrity="sha256-uVus3DnjejMqn4g7Hni+Srwf3KK8HyZB9V4809q9TWE=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://blog.xen0n.name/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://blog.xen0n.name/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://blog.xen0n.name/favicon-32x32.png><link rel=apple-touch-icon href=https://blog.xen0n.name/apple-touch-icon.png><link rel=mask-icon href=https://blog.xen0n.name/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=zh-cmn-hans-cn href=https://blog.xen0n.name/posts/old/reversing-loongarch/part-3/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="ã€Šå¼€å±€ä¸€ä¸ªäºŒè¿›åˆ¶ï¼Œä»é›¶å¼€å§‹çš„ LoongArch æŒ‡ä»¤é›†æ¨å¯¼ã€‹â€”â€”ç¬¬ä¸‰å› é˜…è¯»æ–‡æœ¬"><meta property="og:description" content="æœ¬ LoongArch æŒ‡ä»¤é›†ç ”ç©¶å·¥ä½œåœ¨ç™¾åº¦è´´å§é¾™èŠ¯å§åŒæ­¥è¿è½½ã€‚ æœ¬ç ”ç©¶ä¸­æ¶‰åŠçš„é€†å‘å·¥ç¨‹ä»…å‡ºäºå­¦ä¹ ã€ç ”ç©¶ç›®çš„ã€‚æœ¬ç ”ç©¶å·¥ä½œæœªå¾—åˆ°ä»»ä½•é¾™èŠ¯ã€éº’éºŸç­‰è½¯ç¡¬ä»¶å‚å•†çš„ä»»ä½•å½¢å¼"><meta property="og:type" content="article"><meta property="og:url" content="https://blog.xen0n.name/posts/old/reversing-loongarch/part-3/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-02-21T12:04:00+08:00"><meta property="article:modified_time" content="2021-02-21T12:04:00+08:00"><meta property="og:site_name" content="write(2)"><meta name=twitter:card content="summary"><meta name=twitter:title content="ã€Šå¼€å±€ä¸€ä¸ªäºŒè¿›åˆ¶ï¼Œä»é›¶å¼€å§‹çš„ LoongArch æŒ‡ä»¤é›†æ¨å¯¼ã€‹â€”â€”ç¬¬ä¸‰å› é˜…è¯»æ–‡æœ¬"><meta name=twitter:description content="æœ¬ LoongArch æŒ‡ä»¤é›†ç ”ç©¶å·¥ä½œåœ¨ç™¾åº¦è´´å§é¾™èŠ¯å§åŒæ­¥è¿è½½ã€‚ æœ¬ç ”ç©¶ä¸­æ¶‰åŠçš„é€†å‘å·¥ç¨‹ä»…å‡ºäºå­¦ä¹ ã€ç ”ç©¶ç›®çš„ã€‚æœ¬ç ”ç©¶å·¥ä½œæœªå¾—åˆ°ä»»ä½•é¾™èŠ¯ã€éº’éºŸç­‰è½¯ç¡¬ä»¶å‚å•†çš„ä»»ä½•å½¢å¼"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://blog.xen0n.name/posts/"},{"@type":"ListItem","position":2,"name":"ã€Šå¼€å±€ä¸€ä¸ªäºŒè¿›åˆ¶ï¼Œä»é›¶å¼€å§‹çš„ LoongArch æŒ‡ä»¤é›†æ¨å¯¼ã€‹â€”â€”ç¬¬ä¸‰å› é˜…è¯»æ–‡æœ¬","item":"https://blog.xen0n.name/posts/old/reversing-loongarch/part-3/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"ã€Šå¼€å±€ä¸€ä¸ªäºŒè¿›åˆ¶ï¼Œä»é›¶å¼€å§‹çš„ LoongArch æŒ‡ä»¤é›†æ¨å¯¼ã€‹â€”â€”ç¬¬ä¸‰å› é˜…è¯»æ–‡æœ¬","name":"ã€Šå¼€å±€ä¸€ä¸ªäºŒè¿›åˆ¶ï¼Œä»é›¶å¼€å§‹çš„ LoongArch æŒ‡ä»¤é›†æ¨å¯¼ã€‹â€”â€”ç¬¬ä¸‰å› é˜…è¯»æ–‡æœ¬","description":"æœ¬ LoongArch æŒ‡ä»¤é›†ç ”ç©¶å·¥ä½œåœ¨ç™¾åº¦è´´å§é¾™èŠ¯å§åŒæ­¥è¿è½½ã€‚ æœ¬ç ”ç©¶ä¸­æ¶‰åŠçš„é€†å‘å·¥ç¨‹ä»…å‡ºäºå­¦ä¹ ã€ç ”ç©¶ç›®çš„ã€‚æœ¬ç ”ç©¶å·¥ä½œæœªå¾—åˆ°ä»»ä½•é¾™èŠ¯ã€éº’éºŸç­‰è½¯ç¡¬ä»¶å‚å•†çš„ä»»ä½•å½¢å¼","keywords":[],"articleBody":" æœ¬ LoongArch æŒ‡ä»¤é›†ç ”ç©¶å·¥ä½œåœ¨ç™¾åº¦è´´å§é¾™èŠ¯å§åŒæ­¥è¿è½½ã€‚\næœ¬ç ”ç©¶ä¸­æ¶‰åŠçš„é€†å‘å·¥ç¨‹ä»…å‡ºäºå­¦ä¹ ã€ç ”ç©¶ç›®çš„ã€‚æœ¬ç ”ç©¶å·¥ä½œæœªå¾—åˆ°ä»»ä½•é¾™èŠ¯ã€éº’éºŸç­‰è½¯ç¡¬ä»¶å‚å•†çš„ä»»ä½•å½¢å¼å¸®åŠ©ã€‚\næœ¬ç ”ç©¶å±äºä¸ªäººè¡Œä¸ºï¼Œä¸æœ¬äººé›‡ä¸»æˆ–ä»»ä½•å…¶ä»–ä¸»ä½“æ— å…³ã€‚\nä¸Šä¸€å›æˆ‘ä»¬è®²åˆ°ï¼Œè§£åŒ…å‡ºæ¥çš„äºŒè¿›åˆ¶çœŸçš„æ˜¯ LoongArch çš„ ELF æ–‡ä»¶ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å¯ä»¥æœ‰ä¸¤ä¸ªæ–¹å‘ï¼šä¸€æ˜¯é‡Šè¯» LoongArch ELF æ ¼å¼çš„ç‰¹æ®Šå†…å®¹ï¼›äºŒæ˜¯ç›´æ¥åŠ¨æ‰‹ï¼Œææ˜ç™½æŒ‡ä»¤å«ä¹‰ã€‚\nELF æ–‡ä»¶æ ¼å¼æ”¯æŒæ¯ä¸ªæ¶æ„å„è‡ªè¡¨è¾¾ä¸€äº›ç‰¹å®šå±æ€§ã€tagã€sectionã€‚è¿™ä¹ˆåšä¹Ÿæ˜¯åˆæƒ…åˆç†ï¼Œæ­£å¦‚æ²¡æœ‰ä¸¤ç‰‡é›ªèŠ±å®Œå…¨ç›¸åŒï¼Œä¸åŒæ¶æ„å½“ç„¶ä¹Ÿæœ‰å„è‡ªç‹¬ç‰¹çš„å±æ€§ã€‚ä½ ä¸ä¼šçœ‹åˆ° AMD64 çš„ç¨‹åºåº“å£°æ˜è‡ªå·±ä¸æ”¯æŒæµ®ç‚¹æŒ‡ä»¤ï¼Œä¹Ÿä¸ä¼šçœ‹åˆ° ARM å¯æ‰§è¡Œæ–‡ä»¶åŒ…å« MIPS æ ¼å¼çš„é‡å®šå‘è®°å½•ã€‚ç”±äº ELF æ ¼å¼æœ¬èº«å°±è€ƒè™‘äº†è¿™éƒ¨åˆ†éœ€æ±‚ï¼Œæˆ‘ä»¬ä¸éœ€è¦å…ˆè¡Œäº†è§£ä»»ä½• LoongArch çš„ä¿¡æ¯ï¼Œå°±å¯ä»¥ææ˜ç™½å¾ˆå¤šä¸œè¥¿â€”â€”\nç„¶è€Œï¼Œå®é™…æ“ä½œä¸­å½“ç„¶éœ€è¦å…ˆå¼„æ‡‚æŒ‡ä»¤é›†ï¼Œæ‰èƒ½çœŸæ­£æŠŠè¿™äº›æ¶æ„ç›¸å…³æ‰©å±•æ•´æ˜ç™½ã€‚ä¾‹å¦‚ä½ çœ‹åˆ°ä¸€ä¸ªç±»å‹ 3 çš„é‡å®šå‘ï¼Œåœ°å€æ˜¯ 78f00ï¼Œå†…å®¹æ˜¯ 1a2b3cï¼Œä½ å¹¶ä¸èƒ½ç›´æ¥çŸ¥é“å®ƒçš„å«ä¹‰æ˜¯æŠŠâ€œä»€ä¹ˆä¸œè¥¿â€å†™åˆ°â€œä»€ä¹ˆä½ç½®â€ã€‚åˆ°åº•æ˜¯æŠŠ 1a2b3c å·¦ç§» 10 ä½ç„¶ååˆå¹¶åˆ° 78f00 - ä»£ç æ®µåŸºå€ çš„æŒ‡ä»¤å­—é‡Œï¼Ÿè¿˜æ˜¯ç”¨ 1a2b3c å…ˆå‡å» 78f00 æ„é€ ä¸€ä¸ª PC-relative åç§»é‡ç„¶åå·¦ç§» 6 ä½å†™å…¥ç›¸åŒçš„åœ°æ–¹ï¼Ÿ\né‚£æˆ‘ä»¬è¿˜æ˜¯å…ˆæƒ³åŠæ³•æŠŠæŒ‡ä»¤éƒ½æå–å‡ºæ¥å†è¯´å§ï¼\næœ‰ä¸€ä¸ªå·¥å…·å« readelfï¼Œé¡¾åæ€ä¹‰ï¼Œå®ƒ reads ELF filesï¼›ä½ å¯ä»¥è‡ªå·±ä¸å¸¦å‚æ•°ï¼Œæˆ–è€…å¸¦ç€ --help è¿è¡Œä¸€ä¸‹ï¼Œæ”¯æŒçš„åŠŸèƒ½æŒºå¤šçš„ã€‚æˆ‘ä»¬ç›´æ¥è®©ä»–è§£ææ–‡ä»¶å¤´ï¼š\n$ readelf -eW libpython2.7_d.so.1.0 ELF Header: Magic: 7f 45 4c 46 02 01 01 00 00 00 00 00 00 00 00 00 Class: ELF64 Data: 2's complement, little endian Version: 1 (current) OS/ABI: UNIX - System V ABI Version: 0 Type: DYN (Shared object file) Machine: : 0x102 Version: 0x1 Entry point address: 0x52a10 Start of program headers: 64 (bytes into file) Start of section headers: 9896856 (bytes into file) Flags: 0x3 Size of this header: 64 (bytes) Size of program headers: 56 (bytes) Number of program headers: 6 Size of section headers: 64 (bytes) Number of section headers: 34 Section header string table index: 33 Section Headers: [Nr] Name Type Address Off Size ES Flg Lk Inf Al [ 0] NULL 0000000000000000 000000 000000 00 0 0 0 [ 1] .note.gnu.build-id NOTE 0000000000000190 000190 000024 00 A 0 0 4 [ 2] .hash HASH 00000000000001b8 0001b8 002a88 04 A 4 0 8 [ 3] .gnu.hash GNU_HASH 0000000000002c40 002c40 002910 00 A 4 0 8 [ 4] .dynsym DYNSYM 0000000000005550 005550 00a038 18 A 5 7 8 [ 5] .dynstr STRTAB 000000000000f588 00f588 006f5c 00 A 0 0 1 [ 6] .gnu.version VERSYM 00000000000164e4 0164e4 000d5a 02 A 4 0 2 [ 7] .gnu.version_r VERNEED 0000000000017240 017240 000110 00 A 5 7 8 [ 8] .rela.dyn RELA 0000000000017350 017350 0386a0 18 A 4 0 8 [ 9] .rela.plt RELA 000000000004f9f0 04f9f0 001cc8 18 AI 4 19 8 [10] .plt PROGBITS 00000000000516c0 0516c0 001350 10 AX 0 0 16 [11] .text PROGBITS 0000000000052a10 052a10 25b058 00 AX 0 0 8 [12] .rodata PROGBITS 00000000002ada68 2ada68 04664d 00 A 0 0 8 [13] .eh_frame PROGBITS 00000000002f40b8 2f40b8 000004 00 A 0 0 4 [14] .init_array INIT_ARRAY 00000000002fbc88 2f7c88 000008 08 WA 0 0 8 [15] .fini_array FINI_ARRAY 00000000002fbc90 2f7c90 000008 08 WA 0 0 8 [16] .data.rel.ro PROGBITS 00000000002fbc98 2f7c98 000138 00 WA 0 0 8 [17] .dynamic DYNAMIC 00000000002fbdd0 2f7dd0 000230 10 WA 5 0 8 [18] .data PROGBITS 00000000002fc000 2f8000 10b790 00 WA 0 0 8 [19] .got.plt PROGBITS 0000000000407790 403790 0009a8 08 WA 0 0 8 [20] .got PROGBITS 0000000000408138 404138 000998 08 WA 0 0 8 [21] .sdata PROGBITS 0000000000408ad0 404ad0 000008 00 WA 0 0 8 [22] .bss NOBITS 0000000000408ad8 404ad8 023c00 00 WA 0 0 8 [23] .comment PROGBITS 0000000000000000 404ad8 000022 01 MS 0 0 1 [24] .debug_aranges PROGBITS 0000000000000000 404afa 001c00 00 0 0 1 [25] .debug_info PROGBITS 0000000000000000 4066fa 1f390b 00 0 0 1 [26] .debug_abbrev PROGBITS 0000000000000000 5fa005 01caf8 00 0 0 1 [27] .debug_line PROGBITS 0000000000000000 616afd 273a49 00 0 0 1 [28] .debug_frame PROGBITS 0000000000000000 88a548 05c2b8 00 0 0 8 [29] .debug_str PROGBITS 0000000000000000 8e6800 028332 01 MS 0 0 1 [30] .debug_ranges PROGBITS 0000000000000000 90eb32 0089c0 00 0 0 1 [31] .symtab SYMTAB 0000000000000000 9174f8 037380 18 32 7723 8 [32] .strtab STRTAB 0000000000000000 94e878 0219d8 00 0 0 1 [33] .shstrtab STRTAB 0000000000000000 970250 000142 00 0 0 1 Key to Flags: W (write), A (alloc), X (execute), M (merge), S (strings), I (info), L (link order), O (extra OS processing required), G (group), T (TLS), C (compressed), x (unknown), o (OS specific), E (exclude), p (processor specific) Program Headers: Type Offset VirtAddr PhysAddr FileSiz MemSiz Flg Align LOAD 0x000000 0x0000000000000000 0x0000000000000000 0x2f40bc 0x2f40bc R E 0x4000 LOAD 0x2f7c88 0x00000000002fbc88 0x00000000002fbc88 0x10ce50 0x130a50 RW 0x4000 DYNAMIC 0x2f7dd0 0x00000000002fbdd0 0x00000000002fbdd0 0x000230 0x000230 RW 0x8 NOTE 0x000190 0x0000000000000190 0x0000000000000190 0x000024 0x000024 R 0x4 GNU_STACK 0x000000 0x0000000000000000 0x0000000000000000 0x000000 0x000000 RW 0x10 GNU_RELRO 0x2f7c88 0x00000000002fbc88 0x00000000002fbc88 0x000378 0x000378 R 0x1 Section to Segment mapping: Segment Sections... 00 .note.gnu.build-id .hash .gnu.hash .dynsym .dynstr .gnu.version .gnu.version_r .rela.dyn .rela.plt .plt .text .rodata .eh_frame 01 .init_array .fini_array .data.rel.ro .dynamic .data .got.plt .got .sdata .bss 02 .dynamic 03 .note.gnu.build-id 04 05 .init_array .fini_array .data.rel.ro .dynamic ç”±äº ELF æ–‡ä»¶å¤´æœ¬èº«å°±æ˜¯å¹³å°æ— å…³çš„ï¼Œä½¿ç”¨ä»»ä½•æ¶æ„çš„ readelf éƒ½å¯ä»¥è¯»ï¼Œä¹Ÿä¸ç®¡ä½ æ˜¯åŸç”Ÿå·¥å…·é“¾ï¼Œè¿˜æ˜¯äº¤å‰å·¥å…·é“¾ã€‚\nå‡ºäºäººç±»å¸¸è¯†ï¼Œç§»æ¤ä¸€ä¸ªå…¨æ–°çš„æ¶æ„ä¹ŸçŠ¯ä¸ç€æŠŠæœ‰çš„æ²¡çš„éƒ½å…¨éƒ¨æ”¹ä¸€éï¼Œä¸ºäº†æ”¹è€Œæ”¹ï¼Œè¿™æ ·åè€Œå¢åŠ é€‚é…çš„å·¥ä½œé‡ï¼›æ‰€ä»¥ section åå­—ä¹Ÿéƒ½æ˜¯ç†Ÿæ‚‰çš„ã€‚é‚£ä¹ˆä»£ç æ®µå°±è¿˜æ˜¯å« .textâ€”â€”æ–‡æœ¬ï¼æœºå™¨è¯­è¨€å¯¹æœºå™¨è€Œè¨€å°±æ˜¯â€œæ–‡æœ¬â€ã€‚\n[Nr] Name Type Address Off Size ES Flg Lk Inf Al [11] .text PROGBITS 0000000000052a10 052a10 25b058 00 AX 0 0 8 è¿™æ„æ€å°±æ˜¯ï¼Œè¿™ä¸ªåº“çš„ä»£ç æ®µè£…è½½åˆ°ä» 0x52a10 å¼€å§‹çš„ä¸€å—å†…å­˜ï¼Œå†…å®¹ä»æ–‡ä»¶çš„ç¬¬ 0x52a10 å­—èŠ‚ï¼ˆç¼–å·ä» 0 å¼€å§‹ï¼‰èµ·ï¼Œé•¿åº¦æœ‰ 0x25b058 å­—èŠ‚ã€‚\né©¬ä¸Šæ¥çœ‹ä¸€ä¸‹ï¼è¿˜è®°å¾—è€èƒ¡é‚£ä¸€é¡µæŒ‡ä»¤æ ¼å¼çš„ PPT å—ï¼Ÿæ‰€æœ‰æŒ‡ä»¤éƒ½å®šé•¿ 32 ä½ï¼Œè·Ÿå¤§å¤šæ•° RISC æ¶æ„éƒ½ä¸€æ ·ï¼Œé‚£ä¹ˆâ€”â€”\nimport struct import sys # one little-endian 32-bit word INSN = struct.Struct('","wordCount":"1837","inLanguage":"zh-cmn-hans-cn","datePublished":"2021-02-21T12:04:00+08:00","dateModified":"2021-02-21T12:04:00+08:00","author":[{"@type":"Person","name":"WÃNG \"xen0n\" XuÄ›ruÃ¬"}],"mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.xen0n.name/posts/old/reversing-loongarch/part-3/"},"publisher":{"@type":"Organization","name":"write(2)","logo":{"@type":"ImageObject","url":"https://blog.xen0n.name/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://blog.xen0n.name/ accesskey=h title="write(2) (Alt + H)">write(2)</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button><ul class=lang-switch><li>|</li><li><a href=https://blog.xen0n.name/en/ title="English (US)" aria-label=:us:>ğŸ‡ºğŸ‡¸</a></li></ul></span></div><ul id=menu><li><a href=https://blog.xen0n.name/archives title=æ‰€æœ‰æ–‡ç« ><span>æ‰€æœ‰æ–‡ç« </span></a></li><li><a href=https://blog.xen0n.name/%E6%96%87%E7%AB%A0%E7%B1%BB%E5%88%AB title=æ–‡ç« ç±»åˆ«><span>æ–‡ç« ç±»åˆ«</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://blog.xen0n.name/>ä¸»é¡µ</a>&nbsp;Â»&nbsp;<a href=https://blog.xen0n.name/posts/>Posts</a></div><h1 class=post-title>ã€Šå¼€å±€ä¸€ä¸ªäºŒè¿›åˆ¶ï¼Œä»é›¶å¼€å§‹çš„ LoongArch æŒ‡ä»¤é›†æ¨å¯¼ã€‹â€”â€”ç¬¬ä¸‰å› é˜…è¯»æ–‡æœ¬</h1><div class=post-meta><span title='2021-02-21 12:04:00 +0800 +0800'>2021/02/21</span>&nbsp;Â·&nbsp;é¢„è®¡é˜…è¯»æ—¶é—´: 4 åˆ†é’Ÿ&nbsp;Â·&nbsp;WÃNG "xen0n" XuÄ›ruÃ¬</div></header><div class=post-content><blockquote><p>æœ¬ LoongArch æŒ‡ä»¤é›†ç ”ç©¶å·¥ä½œåœ¨ç™¾åº¦è´´å§é¾™èŠ¯å§åŒæ­¥è¿è½½ã€‚</p><p>æœ¬ç ”ç©¶ä¸­æ¶‰åŠçš„é€†å‘å·¥ç¨‹ä»…å‡ºäºå­¦ä¹ ã€ç ”ç©¶ç›®çš„ã€‚æœ¬ç ”ç©¶å·¥ä½œæœªå¾—åˆ°ä»»ä½•é¾™èŠ¯ã€éº’éºŸç­‰è½¯ç¡¬ä»¶å‚å•†çš„ä»»ä½•å½¢å¼å¸®åŠ©ã€‚</p><p>æœ¬ç ”ç©¶å±äºä¸ªäººè¡Œä¸ºï¼Œä¸æœ¬äººé›‡ä¸»æˆ–ä»»ä½•å…¶ä»–ä¸»ä½“æ— å…³ã€‚</p></blockquote><p>ä¸Šä¸€å›æˆ‘ä»¬è®²åˆ°ï¼Œè§£åŒ…å‡ºæ¥çš„äºŒè¿›åˆ¶çœŸçš„æ˜¯ LoongArch çš„ ELF æ–‡ä»¶ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å¯ä»¥æœ‰ä¸¤ä¸ªæ–¹å‘ï¼šä¸€æ˜¯é‡Šè¯» LoongArch ELF æ ¼å¼çš„ç‰¹æ®Šå†…å®¹ï¼›äºŒæ˜¯ç›´æ¥åŠ¨æ‰‹ï¼Œææ˜ç™½æŒ‡ä»¤å«ä¹‰ã€‚</p><p>ELF æ–‡ä»¶æ ¼å¼æ”¯æŒæ¯ä¸ªæ¶æ„å„è‡ªè¡¨è¾¾ä¸€äº›ç‰¹å®šå±æ€§ã€tagã€sectionã€‚è¿™ä¹ˆåšä¹Ÿæ˜¯åˆæƒ…åˆç†ï¼Œæ­£å¦‚æ²¡æœ‰ä¸¤ç‰‡é›ªèŠ±å®Œå…¨ç›¸åŒï¼Œä¸åŒæ¶æ„å½“ç„¶ä¹Ÿæœ‰å„è‡ªç‹¬ç‰¹çš„å±æ€§ã€‚ä½ ä¸ä¼šçœ‹åˆ° AMD64 çš„ç¨‹åºåº“å£°æ˜è‡ªå·±ä¸æ”¯æŒæµ®ç‚¹æŒ‡ä»¤ï¼Œä¹Ÿä¸ä¼šçœ‹åˆ° ARM å¯æ‰§è¡Œæ–‡ä»¶åŒ…å« MIPS æ ¼å¼çš„é‡å®šå‘è®°å½•ã€‚ç”±äº ELF æ ¼å¼æœ¬èº«å°±è€ƒè™‘äº†è¿™éƒ¨åˆ†éœ€æ±‚ï¼Œæˆ‘ä»¬ä¸éœ€è¦å…ˆè¡Œäº†è§£ä»»ä½• LoongArch çš„ä¿¡æ¯ï¼Œå°±å¯ä»¥ææ˜ç™½å¾ˆå¤šä¸œè¥¿â€”â€”</p><p>ç„¶è€Œï¼Œå®é™…æ“ä½œä¸­å½“ç„¶éœ€è¦å…ˆå¼„æ‡‚æŒ‡ä»¤é›†ï¼Œæ‰èƒ½çœŸæ­£æŠŠè¿™äº›æ¶æ„ç›¸å…³æ‰©å±•æ•´æ˜ç™½ã€‚ä¾‹å¦‚ä½ çœ‹åˆ°ä¸€ä¸ªç±»å‹ 3 çš„é‡å®šå‘ï¼Œåœ°å€æ˜¯ <code>78f00</code>ï¼Œå†…å®¹æ˜¯ <code>1a2b3c</code>ï¼Œä½ å¹¶ä¸èƒ½ç›´æ¥çŸ¥é“å®ƒçš„å«ä¹‰æ˜¯æŠŠâ€œä»€ä¹ˆä¸œè¥¿â€å†™åˆ°â€œä»€ä¹ˆä½ç½®â€ã€‚åˆ°åº•æ˜¯æŠŠ <code>1a2b3c</code> å·¦ç§» 10 ä½ç„¶ååˆå¹¶åˆ° <code>78f00 - ä»£ç æ®µåŸºå€</code> çš„æŒ‡ä»¤å­—é‡Œï¼Ÿè¿˜æ˜¯ç”¨ <code>1a2b3c</code> å…ˆå‡å» <code>78f00</code> æ„é€ ä¸€ä¸ª PC-relative åç§»é‡ç„¶åå·¦ç§» 6 ä½å†™å…¥ç›¸åŒçš„åœ°æ–¹ï¼Ÿ</p><p>é‚£æˆ‘ä»¬è¿˜æ˜¯å…ˆæƒ³åŠæ³•æŠŠæŒ‡ä»¤éƒ½æå–å‡ºæ¥å†è¯´å§ï¼</p><p>æœ‰ä¸€ä¸ªå·¥å…·å« <code>readelf</code>ï¼Œé¡¾åæ€ä¹‰ï¼Œå®ƒ <code>reads ELF files</code>ï¼›ä½ å¯ä»¥è‡ªå·±ä¸å¸¦å‚æ•°ï¼Œæˆ–è€…å¸¦ç€ <code>--help</code> è¿è¡Œä¸€ä¸‹ï¼Œæ”¯æŒçš„åŠŸèƒ½æŒºå¤šçš„ã€‚æˆ‘ä»¬ç›´æ¥è®©ä»–è§£ææ–‡ä»¶å¤´ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-plain data-lang=plain><span style=display:flex><span>$ readelf -eW libpython2.7_d.so.1.0
</span></span><span style=display:flex><span>ELF Header:
</span></span><span style=display:flex><span>  Magic:   7f 45 4c 46 02 01 01 00 00 00 00 00 00 00 00 00
</span></span><span style=display:flex><span>  Class:                             ELF64
</span></span><span style=display:flex><span>  Data:                              2&#39;s complement, little endian
</span></span><span style=display:flex><span>  Version:                           1 (current)
</span></span><span style=display:flex><span>  OS/ABI:                            UNIX - System V
</span></span><span style=display:flex><span>  ABI Version:                       0
</span></span><span style=display:flex><span>  Type:                              DYN (Shared object file)
</span></span><span style=display:flex><span>  Machine:                           &lt;unknown&gt;: 0x102
</span></span><span style=display:flex><span>  Version:                           0x1
</span></span><span style=display:flex><span>  Entry point address:               0x52a10
</span></span><span style=display:flex><span>  Start of program headers:          64 (bytes into file)
</span></span><span style=display:flex><span>  Start of section headers:          9896856 (bytes into file)
</span></span><span style=display:flex><span>  Flags:                             0x3
</span></span><span style=display:flex><span>  Size of this header:               64 (bytes)
</span></span><span style=display:flex><span>  Size of program headers:           56 (bytes)
</span></span><span style=display:flex><span>  Number of program headers:         6
</span></span><span style=display:flex><span>  Size of section headers:           64 (bytes)
</span></span><span style=display:flex><span>  Number of section headers:         34
</span></span><span style=display:flex><span>  Section header string table index: 33
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Section Headers:
</span></span><span style=display:flex><span>  [Nr] Name              Type            Address          Off    Size   ES Flg Lk Inf Al
</span></span><span style=display:flex><span>  [ 0]                   NULL            0000000000000000 000000 000000 00      0   0  0
</span></span><span style=display:flex><span>  [ 1] .note.gnu.build-id NOTE            0000000000000190 000190 000024 00   A  0   0  4
</span></span><span style=display:flex><span>  [ 2] .hash             HASH            00000000000001b8 0001b8 002a88 04   A  4   0  8
</span></span><span style=display:flex><span>  [ 3] .gnu.hash         GNU_HASH        0000000000002c40 002c40 002910 00   A  4   0  8
</span></span><span style=display:flex><span>  [ 4] .dynsym           DYNSYM          0000000000005550 005550 00a038 18   A  5   7  8
</span></span><span style=display:flex><span>  [ 5] .dynstr           STRTAB          000000000000f588 00f588 006f5c 00   A  0   0  1
</span></span><span style=display:flex><span>  [ 6] .gnu.version      VERSYM          00000000000164e4 0164e4 000d5a 02   A  4   0  2
</span></span><span style=display:flex><span>  [ 7] .gnu.version_r    VERNEED         0000000000017240 017240 000110 00   A  5   7  8
</span></span><span style=display:flex><span>  [ 8] .rela.dyn         RELA            0000000000017350 017350 0386a0 18   A  4   0  8
</span></span><span style=display:flex><span>  [ 9] .rela.plt         RELA            000000000004f9f0 04f9f0 001cc8 18  AI  4  19  8
</span></span><span style=display:flex><span>  [10] .plt              PROGBITS        00000000000516c0 0516c0 001350 10  AX  0   0 16
</span></span><span style=display:flex><span>  [11] .text             PROGBITS        0000000000052a10 052a10 25b058 00  AX  0   0  8
</span></span><span style=display:flex><span>  [12] .rodata           PROGBITS        00000000002ada68 2ada68 04664d 00   A  0   0  8
</span></span><span style=display:flex><span>  [13] .eh_frame         PROGBITS        00000000002f40b8 2f40b8 000004 00   A  0   0  4
</span></span><span style=display:flex><span>  [14] .init_array       INIT_ARRAY      00000000002fbc88 2f7c88 000008 08  WA  0   0  8
</span></span><span style=display:flex><span>  [15] .fini_array       FINI_ARRAY      00000000002fbc90 2f7c90 000008 08  WA  0   0  8
</span></span><span style=display:flex><span>  [16] .data.rel.ro      PROGBITS        00000000002fbc98 2f7c98 000138 00  WA  0   0  8
</span></span><span style=display:flex><span>  [17] .dynamic          DYNAMIC         00000000002fbdd0 2f7dd0 000230 10  WA  5   0  8
</span></span><span style=display:flex><span>  [18] .data             PROGBITS        00000000002fc000 2f8000 10b790 00  WA  0   0  8
</span></span><span style=display:flex><span>  [19] .got.plt          PROGBITS        0000000000407790 403790 0009a8 08  WA  0   0  8
</span></span><span style=display:flex><span>  [20] .got              PROGBITS        0000000000408138 404138 000998 08  WA  0   0  8
</span></span><span style=display:flex><span>  [21] .sdata            PROGBITS        0000000000408ad0 404ad0 000008 00  WA  0   0  8
</span></span><span style=display:flex><span>  [22] .bss              NOBITS          0000000000408ad8 404ad8 023c00 00  WA  0   0  8
</span></span><span style=display:flex><span>  [23] .comment          PROGBITS        0000000000000000 404ad8 000022 01  MS  0   0  1
</span></span><span style=display:flex><span>  [24] .debug_aranges    PROGBITS        0000000000000000 404afa 001c00 00      0   0  1
</span></span><span style=display:flex><span>  [25] .debug_info       PROGBITS        0000000000000000 4066fa 1f390b 00      0   0  1
</span></span><span style=display:flex><span>  [26] .debug_abbrev     PROGBITS        0000000000000000 5fa005 01caf8 00      0   0  1
</span></span><span style=display:flex><span>  [27] .debug_line       PROGBITS        0000000000000000 616afd 273a49 00      0   0  1
</span></span><span style=display:flex><span>  [28] .debug_frame      PROGBITS        0000000000000000 88a548 05c2b8 00      0   0  8
</span></span><span style=display:flex><span>  [29] .debug_str        PROGBITS        0000000000000000 8e6800 028332 01  MS  0   0  1
</span></span><span style=display:flex><span>  [30] .debug_ranges     PROGBITS        0000000000000000 90eb32 0089c0 00      0   0  1
</span></span><span style=display:flex><span>  [31] .symtab           SYMTAB          0000000000000000 9174f8 037380 18     32 7723  8
</span></span><span style=display:flex><span>  [32] .strtab           STRTAB          0000000000000000 94e878 0219d8 00      0   0  1
</span></span><span style=display:flex><span>  [33] .shstrtab         STRTAB          0000000000000000 970250 000142 00      0   0  1
</span></span><span style=display:flex><span>Key to Flags:
</span></span><span style=display:flex><span>  W (write), A (alloc), X (execute), M (merge), S (strings), I (info),
</span></span><span style=display:flex><span>  L (link order), O (extra OS processing required), G (group), T (TLS),
</span></span><span style=display:flex><span>  C (compressed), x (unknown), o (OS specific), E (exclude),
</span></span><span style=display:flex><span>  p (processor specific)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Program Headers:
</span></span><span style=display:flex><span>  Type           Offset   VirtAddr           PhysAddr           FileSiz  MemSiz   Flg Align
</span></span><span style=display:flex><span>  LOAD           0x000000 0x0000000000000000 0x0000000000000000 0x2f40bc 0x2f40bc R E 0x4000
</span></span><span style=display:flex><span>  LOAD           0x2f7c88 0x00000000002fbc88 0x00000000002fbc88 0x10ce50 0x130a50 RW  0x4000
</span></span><span style=display:flex><span>  DYNAMIC        0x2f7dd0 0x00000000002fbdd0 0x00000000002fbdd0 0x000230 0x000230 RW  0x8
</span></span><span style=display:flex><span>  NOTE           0x000190 0x0000000000000190 0x0000000000000190 0x000024 0x000024 R   0x4
</span></span><span style=display:flex><span>  GNU_STACK      0x000000 0x0000000000000000 0x0000000000000000 0x000000 0x000000 RW  0x10
</span></span><span style=display:flex><span>  GNU_RELRO      0x2f7c88 0x00000000002fbc88 0x00000000002fbc88 0x000378 0x000378 R   0x1
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span> Section to Segment mapping:
</span></span><span style=display:flex><span>  Segment Sections...
</span></span><span style=display:flex><span>   00     .note.gnu.build-id .hash .gnu.hash .dynsym .dynstr .gnu.version .gnu.version_r .rela.dyn .rela.plt .plt .text .rodata .eh_frame
</span></span><span style=display:flex><span>   01     .init_array .fini_array .data.rel.ro .dynamic .data .got.plt .got .sdata .bss
</span></span><span style=display:flex><span>   02     .dynamic
</span></span><span style=display:flex><span>   03     .note.gnu.build-id
</span></span><span style=display:flex><span>   04
</span></span><span style=display:flex><span>   05     .init_array .fini_array .data.rel.ro .dynamic
</span></span></code></pre></div><p>ç”±äº ELF æ–‡ä»¶å¤´æœ¬èº«å°±æ˜¯å¹³å°æ— å…³çš„ï¼Œä½¿ç”¨ä»»ä½•æ¶æ„çš„ <code>readelf</code> éƒ½å¯ä»¥è¯»ï¼Œä¹Ÿä¸ç®¡ä½ æ˜¯åŸç”Ÿå·¥å…·é“¾ï¼Œè¿˜æ˜¯äº¤å‰å·¥å…·é“¾ã€‚</p><p>å‡ºäºäººç±»å¸¸è¯†ï¼Œç§»æ¤ä¸€ä¸ªå…¨æ–°çš„æ¶æ„ä¹ŸçŠ¯ä¸ç€æŠŠæœ‰çš„æ²¡çš„éƒ½å…¨éƒ¨æ”¹ä¸€éï¼Œä¸ºäº†æ”¹è€Œæ”¹ï¼Œè¿™æ ·åè€Œå¢åŠ é€‚é…çš„å·¥ä½œé‡ï¼›æ‰€ä»¥ section åå­—ä¹Ÿéƒ½æ˜¯ç†Ÿæ‚‰çš„ã€‚é‚£ä¹ˆä»£ç æ®µå°±è¿˜æ˜¯å« <code>.text</code>â€”â€”æ–‡æœ¬ï¼æœºå™¨è¯­è¨€å¯¹æœºå™¨è€Œè¨€å°±æ˜¯â€œæ–‡æœ¬â€ã€‚</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-plain data-lang=plain><span style=display:flex><span>  [Nr] Name              Type            Address          Off    Size   ES Flg Lk Inf Al
</span></span><span style=display:flex><span>  [11] .text             PROGBITS        0000000000052a10 052a10 25b058 00  AX  0   0  8
</span></span></code></pre></div><p>è¿™æ„æ€å°±æ˜¯ï¼Œè¿™ä¸ªåº“çš„ä»£ç æ®µè£…è½½åˆ°ä» <code>0x52a10</code> å¼€å§‹çš„ä¸€å—å†…å­˜ï¼Œå†…å®¹ä»æ–‡ä»¶çš„ç¬¬ <code>0x52a10</code> å­—èŠ‚ï¼ˆç¼–å·ä» 0 å¼€å§‹ï¼‰èµ·ï¼Œé•¿åº¦æœ‰ <code>0x25b058</code> å­—èŠ‚ã€‚</p><p>é©¬ä¸Šæ¥çœ‹ä¸€ä¸‹ï¼è¿˜è®°å¾—è€èƒ¡é‚£ä¸€é¡µæŒ‡ä»¤æ ¼å¼çš„ PPT å—ï¼Ÿæ‰€æœ‰æŒ‡ä»¤éƒ½å®šé•¿ 32 ä½ï¼Œè·Ÿå¤§å¤šæ•° RISC æ¶æ„éƒ½ä¸€æ ·ï¼Œé‚£ä¹ˆâ€”â€”</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-py data-lang=py><span style=display:flex><span><span style=color:#f92672>import</span> struct
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> sys
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># one little-endian 32-bit word</span>
</span></span><span style=display:flex><span>INSN <span style=color:#f92672>=</span> struct<span style=color:#f92672>.</span>Struct(<span style=color:#e6db74>&#39;&lt;I&#39;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>with</span> open(sys<span style=color:#f92672>.</span>argv[<span style=color:#ae81ff>1</span>], <span style=color:#e6db74>&#39;rb&#39;</span>) <span style=color:#66d9ef>as</span> fp:
</span></span><span style=display:flex><span>    fp<span style=color:#f92672>.</span>seek(<span style=color:#ae81ff>0x52a10</span>, <span style=color:#ae81ff>0</span>)
</span></span><span style=display:flex><span>    text <span style=color:#f92672>=</span> fp<span style=color:#f92672>.</span>read(<span style=color:#ae81ff>0x25b058</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># å…ˆçœ‹ 10 æ¡æŒ‡ä»¤</span>
</span></span><span style=display:flex><span>i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>while</span> i <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>40</span>:
</span></span><span style=display:flex><span>    insn <span style=color:#f92672>=</span> INSN<span style=color:#f92672>.</span>unpack(text[i:i <span style=color:#f92672>+</span> <span style=color:#ae81ff>4</span>])[<span style=color:#ae81ff>0</span>]
</span></span><span style=display:flex><span>    i <span style=color:#f92672>+=</span> <span style=color:#ae81ff>4</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    print(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>{</span>insn<span style=color:#e6db74>:</span><span style=color:#e6db74>08x</span><span style=color:#e6db74>}</span><span style=color:#e6db74>&#39;</span>)
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-plain data-lang=plain><span style=display:flex><span>1c0076a4
</span></span><span style=display:flex><span>02dca084
</span></span><span style=display:flex><span>1c0076ac
</span></span><span style=display:flex><span>02dc818c
</span></span><span style=display:flex><span>58001984
</span></span><span style=display:flex><span>1c0076ac
</span></span><span style=display:flex><span>28def18c
</span></span><span style=display:flex><span>40000d80
</span></span><span style=display:flex><span>4c000180
</span></span><span style=display:flex><span>03400000
</span></span></code></pre></div><p>å¾ˆå·¥æ•´å˜›ï¼çœ‹ä¸Šå»æˆ‘ä»¬çŒœçš„æ²¡é”™â€”â€”ä¸æ‰€æœ‰å…¶ä»–å¸¸è§ RISC æŒ‡ä»¤é›†ä¸€æ ·ï¼ŒLoongArch çš„æœºå™¨ç åœ¨å†…å­˜ä¸­ï¼Œå°±æ˜¯ä¸€å †åŸç”Ÿå­—èŠ‚åºçš„æ•´æ•°ã€‚å¯¹ LoongArch è€Œè¨€ï¼Œå°±æ˜¯ä¸€å † 32 ä½çš„å°ç«¯åºæ•´æ•°ã€‚åƒè¿™å‰ä¸¤æ¡æŒ‡ä»¤ <code>1c0076a4 02dca084</code>ï¼Œä½ å¦‚æœç›´æ¥æ‹¿åå…­è¿›åˆ¶ç¼–è¾‘å™¨æ‰“å¼€æ–‡ä»¶ï¼Œå…¶å®åœ¨é‚£ä¸ªä½ç½®å­˜æ”¾çš„æ˜¯ <code>a4 76 00 1c 84 a0 dc 02</code>ï¼Œæ¯ 4 ä¸ªå­—èŠ‚éƒ½æ˜¯åè¿‡æ¥çš„ã€‚</p><p>é‚£ä¹ˆæˆ‘ä»¬ç°åœ¨å·²ç»æ‰¾åˆ°äº†æ•´ä¸ªä»£ç æ®µï¼Œå€ŸåŠ©è€èƒ¡çš„ PPT åŠ©æ”»ï¼Œæˆ‘ä»¬ç”šè‡³ä¸ç”¨è‡ªå·±ç»Ÿè®¡åˆ†ææŒ‡ä»¤æ ¼å¼äº†ï¼ŒçœŸçš„çˆ½ï¼ä½•å†µç°åœ¨å·²çŸ¥çš„æŒ‡ä»¤æ ¼å¼å°±æœ‰ 10 ç§ï¼Œè¿˜å¯èƒ½æœ‰æœªçŸ¥çš„ï¼ˆå‰§é€ï¼šçœŸçš„æœ‰ï¼ï¼‰ï¼Œè‡ªå·±åˆ†æè¿˜ä¸çŸ¥è¦åˆ°çŒ´å¹´é©¬æœˆâ€¦â€¦ç°åœ¨åªéœ€è¦ææ˜ç™½å“ªäº› opcode æ˜¯ä½¿ç”¨çš„å“ªç§æŒ‡ä»¤æ ¼å¼ï¼Œå«ä¹‰æ˜¯å•¥å°±å¥½äº†ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œç»ˆäºå¯ä»¥è¿›å…¥çœŸæ­£æŒ‡ä»¤çš„ç ´è¯‘å·¥ä½œäº†ï¼æ¬²çŸ¥åäº‹å¦‚ä½•ï¼Œä¸”å¬ä¸‹å›åˆ†è§£~</p></div><footer class=post-footer><nav class=paginav><a class=prev href=https://blog.xen0n.name/posts/old/reversing-loongarch/part-4/><span class=title>Â« ä¸Šä¸€é¡µ</span><br><span>ã€Šå¼€å±€ä¸€ä¸ªäºŒè¿›åˆ¶ï¼Œä»é›¶å¼€å§‹çš„ LoongArch æŒ‡ä»¤é›†æ¨å¯¼ã€‹â€”â€”ç¬¬å››å› æŠŠå¤§è±¡æ”¾è¿›å†°ç®±</span></a>
<a class=next href=https://blog.xen0n.name/posts/old/reversing-loongarch/part-2/><span class=title>ä¸‹ä¸€é¡µ Â»</span><br><span>ã€Šå¼€å±€ä¸€ä¸ªäºŒè¿›åˆ¶ï¼Œä»é›¶å¼€å§‹çš„ LoongArch æŒ‡ä»¤é›†æ¨å¯¼ã€‹â€”â€”ç¬¬äºŒå› ELF</span></a></nav></footer><script src=https://utteranc.es/client.js repo=xen0n/xen0n.github.io issue-term=pathname label=comment theme=preferred-color-scheme crossorigin=anonymous async></script></article></main><footer class=footer><span>Â© WANG Xuerui; ä»¥ cc-by-nc-sa 4.0 æˆæƒ</span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>